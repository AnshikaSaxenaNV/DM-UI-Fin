<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vadidate Entities</title>
    <link rel="stylesheet" href="" th:href="@{/css/loadprocess.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <script type="text/javascript" th:src="@{/js/listcsv.js}"></script>

</head>

<body>
    <section>
        <div class="container-fliud">
            <div class="row">
                <div class="col-md-12" style="background-color: black;">
                    <div class="Heading">
                        <h1>Load</h1>
                        <a th:href="@{/api/load}">

                            <button type="button" class="btn-close btn-close-white" style="opacity: .9;"
                                aria-label="Close"></button>
                        </a>
                    </div>

                </div>
            </div>
        </div>
    </section>
    <div class="spacer">
        &nbsp;
    </div>
    <section>
        <div class="container-fliud">
            <div class="row" style="padding-left: 25px;">
                <div class="col-md-12" style="padding:10px 5px 0px 24px">
                    <div class="selected-row">
                        <h3>Entity Selected:</h3>
                        <div class="selected-entity">
                            <div class="circle"
                                th:style="'background-color:' + ${col} + ';padding-top: 6px; align-items: center;'">
                                <h5 style="color:white;text-align: center; font-size: 12px; margin-left: 12px;"
                                    th:text="${#strings.substring(name,0,1)}"></h5>
                            </div>
                            <div class="name">
                                <h6 th:text="${name}"></h6>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
    </section>

    <section>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4" style="padding-left: 50px;">
                    <div class="db-connection">
                        <h3>Destination DB Connection Details</h3>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6" style="padding-left: 50px; margin-top: 10px;">

                    <table class="table" style="width: 90%; height: 200px;">

                        <tr th:class="${map.key =='DB Fields'}?tr-heading:''" th:each=" map ,i: ${dbdetails}">
                            <td th:name="${map.key}" th:text="${map.key}"></td>
                            <td><input th:name="${map.value}" th:value="${map.value}"
                                    th:type="${map.key =='DB Password'}?password:''" size="30" disabled
                                    style="border:none; background:transparent; color: #000;" /></td>
                        </tr>


                    </table>

                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4" style="padding-left: 50px;">
                    <div class="db-connection">
                        <h3>Establish DB Connection</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 px-5">
                <div class="establish  py-3">
                    <div class="image"> <img class="image1" src="" th:src="@{/assets/establish.svg}" alt=""> <img
                            class="image2 " id="dis-img" src="" th:src="@{/assets/disconnected.svg}" alt=""> <img
                            class="image2 p-1 " id="tick-img" src="" th:src="@{/assets/done.svg}" hidden="true" alt="">
                        <span class="opacity-25" id="dis">Disconnected</span> <span class="connect" id="connected"
                            hidden="true">Connected</span> <img id="processImg" class="image3" src=""
                            th:src="@{/assets/threedots.gif}" hidden="true" alt=""> </div>
                </div>
                <div class="processing"> <button type="button" id="load-btn" th:value="${name}" onclick="loadProcess()"
                        class="btn btn-default">Load</button> </div>
            </div>
            <div class="col-md-5 p-0 ">
                <div class="inserted-success d-flex align-items-center justify-content-centerw-100 h-100 p ">
                    <div class="ver-line" id="vr" hidden="true">
                        <div class="vr vr-blurry"></div>
                    </div>
                    <div class="load-progress-bar mx-2" hidden="true">
                        <img src="" th:src="@{/assets/Loadingprogress.gif}" style="background-color: white;" alt="">
                    </div>
                    <div class="records-inserted px-3 pt-3 " id="records" hidden="true">
                        <p class="done-inserted"> <i class="bi bi-check-circle-fill"></i> Data inserted successfully!
                        </p>
                        <p id="load-record"><b> </b>
                        </p>
                        <hr class="hr hr-blurry" /> <a href="#" th:name="${name}" onclick="loadDownload(this.name)" class="download-report"><img src=""
                                th:src="@{/assets/download.svg}" alt="">Download
                            Report</a>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="text-center"> <a th:href="@{/api/main}"> <button type="button" id="success-done"
                            class="insert-done btn-primary" hidden="true">Done</button> </a> </div>
            </div>
        </div>



    </section>

</body>

</html>