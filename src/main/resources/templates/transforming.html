<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vadidate Entities</title>
  <link rel="stylesheet" href="" th:href="@{/css/transforming.css}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" th:src="@{/js/listcsv.js}"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
  <script>
    // var i = 0;
    // function move() {
    //   if (i == 0) {
    //     i = 1;
    //     var elem = document.getElementById("myBar");
    //     console.log(elem);
    //     var width = 1;
    //     var id = setInterval(frame, 10);
    //     function frame() {
    //       if (width >= 100) {
    //         clearInterval(id);
    //         i = 0;
    //       } else {
    //         width++;
    //         elem.style.width = width + "%";
    //         elem.innerHTML = width  + "%";
    //       }
    //     }
    //   }
    // }
    </script>
</head>

<body>
  <section>
    <div class="container-fliud">
      <div class="row">
        <div class="col-md-12" style="background-color: black;">
          <div class="Heading">
            <h1>Transform</h1>
            <a th:href="@{/api/transform}">

              <button type="button" class="btn-close btn-close-white" style="opacity: .9;" aria-label="Close"></button>
            </a>
          </div>

        </div>
      </div>
    </div>
  </section>
  <section>
    <div class="container-fliud">
      <div class="row" style="padding-left: 25px;">
        <div class="col-md-12" style="padding:10px 5px 0px 24px">
          <div class="selected-row">
            <h3>Entity Selected:</h3>
            <div class="selected-entity">
              <div class="circle" style="background-color: #3E64B8; padding-top: 6px; align-items: center;">
                <h5 style="color:white;text-align: center; font-size: 12px; margin-left: 12px;" th:text="${#strings.substring(name,0,1)}"></h5>
              </div>
              <div class="name">
                <h6 th:text="${name}"></h6>
              </div>
            </div>
          </div>

        </div>
      </div>
  </section>
<section>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-10" style="padding-left: 53px;">
                 <div class="transform-box">
                    <div class="process">
                        <p id="transformMessage">Your file is already in process...</p>
                        <div class="text-center">
                          <button id="transformBtn" type="button" class="btn btn-default " th:value="${name}" >Transform</button>
                        </div>
                        <div id="myProgress" style="width:30%;border-radius: 15px; margin-left: 35%; margin-top: 1%;" hidden="true">
                            <div id="myBar" class="progress-bar progress-bar-striped bg-success" style="width: 1%;height: 22px;border-radius: 15px;">0%</div>
                            </div>
                            <div class=text-center id="transformComplete"></div>
                      </div>
                 </div>
                
            </div>
        </div>
        <div class="row">
          <div class="col-md-10 py-4" style="padding-left: 53px;">
            <div id="transformDoneDive" class="text-center "><a th:href="@{/api/main}">
              <button id="transformDone" class="btn btn-primary " type="button" hidden="true">Done</button></a></div>
          </div>
        </div>
    </div>
</section>

</body>

</html>